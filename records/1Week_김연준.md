# 1Week_김연준.md

## Title: [1Week] 김연준

### 필수 미션 요구사항 분석 & 체크리스트
- [x] 호감목록에서 삭제버튼을 누르면, 해당 항목은 삭제되어야 한다.
- [x] 삭제를 처리하기 전에 해당 항목에 대한 소유권이 본인(로그인한 사람)에게 있는지 체크해야 한다.
- [x] 삭제 후 다시 호감목록 페이지로 돌아와야 한다.
### 선택 미션 요구사항 분석 & 체크리스트
- [x] 구글 로그인으로도 로그인이 가능해야 한다.
- [x] 스프링 OAuth2 클라이언트로 구현해야한다.
- [x] 구글 로그인으로 가입한 회원의 providerTypeCode : GOOGLE
---

- 호감목록 삭제 기능 구현
- 구글 로그인 구현
### 1주차 미션 요약

---

**[접근 방법]**

- 호감목록에서 삭제된 대상은 likeable_person 테이블과 연관된 insta_member 테이블에서도 삭제
- 삭제완료 메시지를 클라이언트에게 전달
- 벨로그를 참고하여 구글 로그인 기능 구현
- yml파일에 각 플랫폼으로부터 발급받은 키를 선언
- 구글 로그인을 했을 때 CustomOAuth2UserService의 loadUser메소드가 실행되어 플랫폼 서버로부터 로그인 된 사용자 정보를 얻음
- 얻어온 사용자 정보를 memberService의 whenSocialLogin의 인자값으로 전달하여 가입 처리를 한 후 member테이블에 저장


**[특이사항]**

아쉬웠던 점
- 겉핧기식으로 얻은 정보로 깊은 이해없이 소셜 로그인 구현을 했어서 다음번에는 작동 원리를 이해한 후 다시 만들어 보고 싶습니다.

궁금했던 점
- 스프링 시큐리티의 작동 원리를 알고 싶습니다.

**[Refactoring]**

- 로그인 없이 delete핸들러 접근 시 예외처리
- 호감 상대가 존재하지 않을 시 예외처리
- service계층에 findByLikeablePersonId를 추가하여 controller계층에서 유저를 가져올 수 있게 함
- 인스타 호감목록 삭제 인가 처리